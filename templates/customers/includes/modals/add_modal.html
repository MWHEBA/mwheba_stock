<!-- filepath: c:\Users\UTD\MWHEBA_App\templates\customers\includes\modals\add_modal.html -->
<!-- مودال إضافة عميل جديد -->
<div class="modal fade" id="addCustomerModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="addCustomerModalLabel">
                    <i class="fas fa-plus-circle me-2"></i> إضافة عميل جديد
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-4">
                <form id="addCustomerForm" method="post" action="{% url 'customer-create' %}">
                    {% csrf_token %}
                    <input type="hidden" name="is_ajax" value="1">
                    
                    <!-- القسم الأول: بيانات العميل الأساسية -->
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="id_name" class="form-label">اسم العميل <span class="text-danger">*</span></label>
                            <input type="text" name="name" id="id_name" class="form-control" required>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="id_phone" class="form-label">رقم الهاتف</label>
                            <input type="tel" name="phone" id="id_phone" class="form-control" dir="ltr">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="id_email" class="form-label">البريد الإلكتروني</label>
                            <input type="email" name="email" id="id_email" class="form-control" dir="ltr">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="id_address" class="form-label">العنوان</label>
                            <input type="text" name="address" id="id_address" class="form-control">
                        </div>
                    </div>
                    
                    <!-- القسم الثاني: معلومات إضافية -->
                    <div class="row mt-3">
                        <div class="col-md-6 mb-3">
                            <label for="id_category" class="form-label">التصنيف</label>
                            <div class="input-group">
                                <select name="category" id="id_category" class="form-select">
                                    <option value="">بدون تصنيف</option>
                                    {% for category in categories %}
                                        <option value="{{ category.id }}">{{ category.name }}</option>
                                    {% endfor %}
                                </select>
                                <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#addCategoryModal">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="id_status" class="form-label">الحالة</label>
                            <select name="status" id="id_status" class="form-select">
                                <option value="active" selected>نشط</option>
                                <option value="inactive">غير نشط</option>
                                <option value="blocked">محظور</option>
                            </select>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="id_credit_limit" class="form-label">حد الائتمان (ج.م)</label>
                            <input type="number" name="credit_limit" id="id_credit_limit" class="form-control" min="0" step="0.01" value="0">
                            <div class="form-text">0 = غير محدود</div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="id_tax_number" class="form-label">الرقم الضريبي</label>
                            <input type="text" name="tax_number" id="id_tax_number" class="form-control">
                        </div>
                        
                        <div class="col-12 mb-3">
                            <label for="id_notes" class="form-label">ملاحظات</label>
                            <textarea name="notes" id="id_notes" rows="3" class="form-control"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إلغاء</button>
                <button type="button" class="btn btn-primary" id="saveCustomerBtn">
                    <i class="fas fa-save me-1"></i> حفظ
                </button>
            </div>
        </div>
    </div>
</div>

<!-- مودال إضافة تصنيف جديد -->
<div class="modal fade" id="addCategoryModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title">
                    <i class="fas fa-tag me-2"></i> إضافة تصنيف جديد
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body p-4">
                <form id="addCategoryForm">
                    <div class="mb-3">
                        <label for="category_name" class="form-label">اسم التصنيف <span class="text-danger">*</span></label>
                        <input type="text" id="category_name" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label for="category_color" class="form-label">اللون</label>
                        <select id="category_color" class="form-select">
                            <option value="primary">أزرق</option>
                            <option value="success">أخضر</option>
                            <option value="danger">أحمر</option>
                            <option value="warning">برتقالي</option>
                            <option value="info">سماوي</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="category_description" class="form-label">الوصف</label>
                        <textarea id="category_description" class="form-control" rows="2"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إلغاء</button>
                <button type="button" class="btn btn-primary" id="saveCategoryBtn">
                    <i class="fas fa-save me-1"></i> حفظ
                </button>
            </div>
        </div>
    </div>
</div>